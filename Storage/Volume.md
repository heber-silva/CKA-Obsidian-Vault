On-disk files in a container are ephemeral, which presents some problems for non-trivial applications when running in containers. One problem occurs when a container crashes or is stopped. Container state is not saved so all of the files that were created or modified during the lifetime of the container are lost. During a crash, kubelet restarts the container with a clean state. Another problem occurs when multiple containers are running in a `Pod` and need to share files. It can be challenging to setup and access a shared filesystem across all of the containers. The Kubernetes [volume](https://kubernetes.io/docs/concepts/storage/volumes/) abstraction solves both of these problems. Familiarity with [Pods](https://kubernetes.io/docs/concepts/workloads/pods/) is suggested.

## Background[](https://kubernetes.io/docs/concepts/storage/volumes/#background)

Kubernetes supports many types of volumes. A [Pod](https://kubernetes.io/docs/concepts/workloads/pods/) can use any number of volume types simultaneously. [Ephemeral volume](https://kubernetes.io/docs/concepts/storage/ephemeral-volumes/) types have a lifetime of a pod, but [persistent volumes](https://kubernetes.io/docs/concepts/storage/persistent-volumes/) exist beyond the lifetime of a pod. When a pod ceases to exist, Kubernetes destroys ephemeral volumes; however, Kubernetes does not destroy persistent volumes. For any kind of volume in a given pod, data is preserved across container restarts.

At its core, a volume is a directory, possibly with some data in it, which is accessible to the containers in a pod. How that directory comes to be, the medium that backs it, and the contents of it are determined by the particular volume type used.

To use a volume, specify the volumes to provide for the Pod in `.spec.volumes` and declare where to mount those volumes into containers in `.spec.containers[](https://kubernetes.io/docs/reference/glossary/?all=true#term-image), plus volumes (if defined) mounted inside the container. The process sees a root filesystem that initially matches the contents of the container image. Any writes to within that filesystem hierarchy, if allowed, affect what that process views when it performs a subsequent filesystem access. Volumes mount at the [](https://kubernetes.io/docs/concepts/storage/volumes/#using-subpath) within the image. For each container defined within a Pod, you must independently specify where to mount each volume that the container uses.

Volumes cannot mount within other volumes (but see [](https://kubernetes.io/docs/concepts/storage/volumes/#using-subpath) for a related mechanism). Also, a volume cannot contain a hard link to anything in a different volume.